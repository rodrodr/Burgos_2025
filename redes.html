<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Redes  semánticas – Análisis de textos &lt;br&gt;políticos con R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-9cbc148dd616713867d17a6e6a12d7db.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/d3-4.9.1/d3.min.js"></script>
<script src="site_libs/forceNetwork-binding-0.4.1/forceNetwork.js"></script>
<script src="site_libs/core-js-2.5.3/shim.min.js"></script>
<script src="site_libs/react-18.2.0/react.min.js"></script>
<script src="site_libs/react-18.2.0/react-dom.min.js"></script>
<script src="site_libs/reactwidget-2.0.0/react-tools.js"></script>
<link href="site_libs/reactable-0.4.4/reactable.css" rel="stylesheet">
<script src="site_libs/reactable-binding-0.4.4/reactable.js"></script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./redes.html">Análisis de redes</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introducción al curso</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preparacion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preparación</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./basico.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Análisis básicos</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./codificacion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Codificación</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./escalonado.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Escalonado de textos</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./redes.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Análisis de redes</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introducción" id="toc-introducción" class="nav-link active" data-scroll-target="#introducción">Introducción</a></li>
  <li><a href="#antes-de-empezar" id="toc-antes-de-empezar" class="nav-link" data-scroll-target="#antes-de-empezar">Antes de empezar</a></li>
  <li><a href="#elementos-básicos-de-una-red" id="toc-elementos-básicos-de-una-red" class="nav-link" data-scroll-target="#elementos-básicos-de-una-red">Elementos básicos de una red</a></li>
  <li><a href="#topología-de-redes" id="toc-topología-de-redes" class="nav-link" data-scroll-target="#topología-de-redes">Topología de redes</a></li>
  <li><a href="#medidas-estructurales" id="toc-medidas-estructurales" class="nav-link" data-scroll-target="#medidas-estructurales">Medidas estructurales</a></li>
  <li><a href="#subestructuras-o-subcomponentes-de-una-red" id="toc-subestructuras-o-subcomponentes-de-una-red" class="nav-link" data-scroll-target="#subestructuras-o-subcomponentes-de-una-red">Subestructuras o subcomponentes de una red</a></li>
  <li><a href="#centralidad" id="toc-centralidad" class="nav-link" data-scroll-target="#centralidad">Centralidad</a></li>
  <li><a href="#comunidades-como-temas" id="toc-comunidades-como-temas" class="nav-link" data-scroll-target="#comunidades-como-temas">Comunidades como temas</a></li>
  <li><a href="#filtros" id="toc-filtros" class="nav-link" data-scroll-target="#filtros">Filtros</a></li>
  <li><a href="#usando-la-ia-en-la-interpretación" id="toc-usando-la-ia-en-la-interpretación" class="nav-link" data-scroll-target="#usando-la-ia-en-la-interpretación">Usando la IA en la interpretación</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><b>Redes</b> <br>semánticas</h1>
<p class="subtitle lead"><em>Emplear palabras para revelar vínculos</em></p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell">
<style type="text/css">

body {
font-family: 'Times New Roman', serif;
font-size: 20px;
}

blockquote {
margin: 0 0 1rem;
padding: 0 1rem;
color: green;
border-left: 4px solid green;
}

blockquote p {
color: green;
}

.colGreen{
color:green;
}

h3{
color:#CD4F39;
}

.vectout{
color:red;
font-family: 'Times New Roman', serif;
}

h4{
color:green;
font-weight: bold;
font-style: italic;
}

.tab-content {
  background-color:#FFF3C9 ;
}


.react-table {
  background-color:#FFF3C9 ;
}


.panel-tabset .nav-item .nav-link.active {
  color: white;
  background-color:purple;
}


.panel-tabset .nav-item .nav-link {
  color: black;
  background-color:#BDEC7F;
  margin-left:5px;
}


</style>
</div>
<p><br></p>
<section id="introducción" class="level2">
<h2 class="anchored" data-anchor-id="introducción">Introducción</h2>
<p>El análisis de redes sociales es una metodología ya consolidada en las ciencias sociales para estudiar las relaciones entre entidades. Se trata de un método muy poderoso para entender estructuras de interacción, definir roles diferenciados y jerarquizar entidades según su mayor o menor centralidad en la red. En ese sentido, un partido, un diputado o una palabra no son importantes por si solos. El mismo concepto de centralidad es multifacético, puesto que existen diferentes formas de influencia que son complementarias y que se establecen fundamentalmente por la posición que cada entidad ocupa en la estructura más amplia de la red.</p>
<p>Por lo tanto, el análisis de redes sociales permite situar una unidad (persona, institución, palabra) en el contexto más amplio en el que se ubica para entender qué rol ocupa y su importancia relativa en toda la estructura. Tales características nos permiten situar palabras en sus contextos más amplios y revelar asociaciones entre ideas, conceptos o formas discursivas.</p>
</section>
<section id="antes-de-empezar" class="level2">
<h2 class="anchored" data-anchor-id="antes-de-empezar">Antes de empezar</h2>
<p>Antes de empezar, lo mejor es crear los datos para que podamos ilustrar los conceptos básicos de las redes semánticas. Empezamos por crear una función llamada genCoocurrence que genera una red de co-ocurrencias con todas las palabras del corpus. Esta función tiene tres parámetros. El primero es el corpus de quanteda con los textos a analizar. El segundo, adjacent=TRUE, corresponde una variable lógica que indica si la co-ocurrencia será adyacente (una palabra y su siguiente), con valor <code>adjacent=TRUE</code>, o general (pares de todas palabras del texto entre sí), con valor <code>adjacent=FALSE</code>. Finalmente, el último parámetro establece si la función retorna un objeto graph de igraph (<code>return.graph=TRUE</code>) o un data.frame (<code>return.graph=FALSE</code>).</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea la función para generar una</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># red de coocurrencias a partir de</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># un corpus de texto</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>genCoocurrence <span class="ot">&lt;-</span> <span class="cf">function</span>(corpus, </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">adjacent=</span><span class="cn">TRUE</span>, </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">return.graph=</span><span class="cn">TRUE</span>){</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  tk <span class="ot">&lt;-</span> quanteda<span class="sc">::</span><span class="fu">tokens</span>(corpus, </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">remove_punct =</span> T, </span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">remove_symbols =</span> T, </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>               <span class="at">remove_numbers =</span> T)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  tk <span class="ot">&lt;-</span> quanteda<span class="sc">::</span><span class="fu">tokens_remove</span>(tk, </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(quanteda<span class="sc">::</span><span class="fu">stopwords</span>(<span class="st">"es"</span>),<span class="st">"—"</span>,<span class="st">"—‌"</span>))</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Crea una base de datos</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># que irá acumular las coocurrencias</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  res <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Para cada diálogo</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(tk)){</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Obtiene las palabras</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    ky <span class="ot">&lt;-</span> <span class="fu">as.character</span>(tk[[i]])</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Si solo hay una palabra</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># para al siguiente diálogo</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">length</span>(ky) <span class="sc">&lt;</span> <span class="dv">2</span>){</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>      <span class="cf">next</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (adjacent<span class="sc">==</span><span class="cn">TRUE</span>){</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Genera las coocurrencias usando adyacencia</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>      d1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">from =</span> ky[<span class="sc">-</span><span class="fu">length</span>(ky)], </span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>                       <span class="at">to =</span> ky[<span class="sc">-</span><span class="dv">1</span>])</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span>{</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Genera las coocurrencias usando ventana</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>      d1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">t</span>(<span class="fu">combn</span>(ky,<span class="dv">2</span>)))</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">names</span>(d1) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"from"</span>, <span class="st">"to"</span>)</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Establece el peso</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>    d1<span class="sc">$</span>weight <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Acumula los resultados</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>    res <span class="ot">&lt;-</span> <span class="fu">rbind</span>(res, d1)</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>  res <span class="ot">&lt;-</span> res</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>from <span class="ot">&lt;-</span> <span class="fu">tolower</span>(res<span class="sc">$</span>from)</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>to <span class="ot">&lt;-</span> <span class="fu">tolower</span>(res<span class="sc">$</span>to)</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>  g <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_data_frame</span>(res, </span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>                             <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>  g <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">simplify</span>(g, </span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>                        <span class="at">remove.multiple =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Crea una nueva base de datos</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>  <span class="co"># con la red simplificada</span></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>  res <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">as_data_frame</span>(g)</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Agrega las coocurrencias por</span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>  <span class="co"># diada de palabras</span></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>  ag <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(weight <span class="sc">~</span> from <span class="sc">+</span> to, </span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data =</span> res, </span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>                  <span class="at">FUN =</span> sum)</span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(return.graph<span class="sc">==</span><span class="cn">TRUE</span>){</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>    <span class="co"># convierte en un gráfico no direccional</span></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>    g <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_data_frame</span>(ag, </span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Establece la frecuencia como</span></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a>    <span class="co"># el peso</span></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>    igraph<span class="sc">::</span><span class="fu">E</span>(g)<span class="sc">$</span>weight <span class="ot">&lt;-</span> ag<span class="sc">$</span>weight</span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(g)  </span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span>{</span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(ag)</span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>A continuación, empleamos la función recién generada para crear la red de co-ocurrencias de palabras en el debate sobre la ley de memoria histórica. En total son 5641 palabras y 148.819 vínculos entre ellas. Se trata de una red sin filtrar. No hemos eliminado ninguna relación todavía, de modo que no recomiendo que intentemos visualizarla. Seguramente no obtendremos buenos resultados visuales.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>da <span class="ot">&lt;-</span> spa.sessions[<span class="fu">grep</span>(<span class="st">"Número de expediente 121/000064"</span>, </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>                        spa.sessions<span class="sc">$</span>issue.details),]</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>da <span class="ot">&lt;-</span> da[da<span class="sc">$</span>rep.condition<span class="sc">!=</span><span class="st">"Miembro de la mesa"</span>,]</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>cp <span class="ot">&lt;-</span> <span class="fu">corpus</span>(da, <span class="at">text_field =</span> <span class="st">"speech.text"</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>cp <span class="ot">&lt;-</span> <span class="fu">corpus_reshape</span>(cp, </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">to =</span> <span class="st">"sentences"</span>)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Genera el gráfico a partir</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">genCoocurrence</span>(cp)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
<section id="elementos-básicos-de-una-red" class="level2">
<h2 class="anchored" data-anchor-id="elementos-básicos-de-una-red">Elementos básicos de una red</h2>
<p>Una red está compuesta por nodos y enlaces. Los nodos representan las entidades que se están analizando, como personas, instituciones o palabras. Los enlaces representan las relaciones o interacciones entre esos nodos, como conversaciones, colaboraciones o coocurrencias en un texto.</p>
<p>A partir de estos elementos básicos, se pueden construir gráficos de red que visualizan las conexiones entre los nodos. Estos gráficos permiten identificar patrones de interacción, comunidades dentro de la red y nodos clave que desempeñan roles importantes en la estructura general.</p>
<p>Las redes pueden ser dirigidas o no dirigidas. En una red dirigida, los enlaces tienen una dirección específica, lo que indica quién inicia la interacción o relación. En una red no dirigida, los enlaces son bidireccionales, lo que significa que la relación es mutua entre los nodos conectados. Por ejemplo, las redes sociales representan redes dirigidas. Nosotros podemos seguir a otras personas que no necesariamente nos siguen a nosotros. No hace falta la reciprocidad en la acción.</p>
<p>Esas dos piececitas básicas pueden combinarse de múltiples formas, generando arquitecturas complejas que permiten análisis bastante sofisticados. Emplean dos formas fundamentales (o piezas de LEGO) que constituyen la base de todas las demás estructuras en la red:</p>
<ul>
<li><p><strong>díadas:</strong> dos nodos conectados por un enlace. Representan la relación más básica entre dos entidades. Es la forma de organización social más básica.</p></li>
<li><p><strong>tríadas:</strong> tres nodos conectados por enlaces. Permiten analizar relaciones más complejas y la formación de grupos dentro de la red.</p></li>
</ul>
<p>Abajo podéis ver el listado de todas las combinaciones posibles entre tres nodos, lo que se denominan como motivos (<em>motifs</em>) en una red no dirigida:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="redes_files/figure-html/nondirected-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Y ahora en una red dirigida:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="redes_files/figure-html/motifs-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Como podemos ver, las relaciones pueden ser direccionales o no, recíprocas o no, transitivas o cíclicas, entre otras muchas posibilidades. Estas estructuras básicas pueden combinarse para formar redes más complejas que reflejan las interacciones reales entre entidades en diversos contextos.</p>
</section>
<section id="topología-de-redes" class="level2">
<h2 class="anchored" data-anchor-id="topología-de-redes">Topología de redes</h2>
<p>La topología de una red describe su estructura global y la forma en que los nodos están interconectados. Diferentes topologías pueden influir en cómo se difunde la información, cómo se forman comunidades y cómo se organizan los temas dentro de un corpus textual. Una rede puede tener forma de estrella en la que un nodo central conecta a todos los demás nodos. Corresponde a la estructura más centralizada de todas, puesto que una unidad es la responsable por la conexión y la transmisión de información en la red.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="topology.jpg" class="img-fluid figure-img"></p>
<figcaption>Topología de redes.</figcaption>
</figure>
</div>
<p>Otra topología común es la red en malla (<em>mesh</em>), donde los nodos están interconectados de manera más uniforme. Esta estructura permite una mayor redundancia y resiliencia, ya que la información puede fluir a través de múltiples caminos. En el contexto del análisis de texto, una red en malla puede indicar un discurso más diversificado y menos dependiente de un solo tema o concepto central.</p>
<p>Las redes circulares forman cadenas interconectadas que pueden representar flujos de información cíclicos o. No hay casi jerarquía, pero ,si un eslabón se rompe, la estructura de la red cambia hacia una lineal. Si la ruptura se da en dos partes, la red se fragmenta.</p>
<p>Las redes jerárquicas (árbol) presentan una estructura en capas, donde los nodos superiores controlan o influyen en los nodos inferiores. Esta topología es común en organizaciones y sistemas estructurados, así como en tipologías. En el análisis de texto, una red jerárquica puede reflejar un discurso con niveles claros de importancia o autoridad entre los temas tratados.</p>
</section>
<section id="medidas-estructurales" class="level2">
<h2 class="anchored" data-anchor-id="medidas-estructurales">Medidas estructurales</h2>
<p>Las métricas estructurales permiten evaluar la configuración general de la red. De cierta manera, posibilitan la cuantificación de la topología de la red. Mientras las medidas de centralidad se enfocan en la posición de los nodos individuales, las medidas estructurales se concentran en la forma global de la red —su cohesión, fragmentación, modularidad o jerarquía—, lo que permite interpretar cómo se organiza el sentido dentro de un corpus. Por lo tanto, describen las propiedades globales o mesoestructurales de una red, es decir, la configuración de la red como un todo o atributos estructurales intermedios que permiten la identificación de subgrupos o subunidades analíticas (temas, por ejemplo). En una red semántica revelan cómo se distribuye y conecta el significado entre palabras o conceptos.</p>
<ul>
<li><p><strong>Densidad</strong>: La densidad mide la proporción de enlaces existentes respecto a los posibles. Una red densa indica una alta interconexión entre los nodos, lo que sugiere un discurso cohesivo y bien integrado. En contraste, una red dispersa puede reflejar un discurso fragmentado o con múltiples temas poco relacionados o desconectados.</p></li>
<li><p><strong>Conectividad/Componentes</strong>: Indica el número de subconjuntos conectados. Número de campos semánticos independientes o islas de sentido. Un solo componente indica unidad temática.</p></li>
<li><p><strong>Clustering (transitividad)</strong>: Probabilidad de que los vecinos de un nodo estén conectados. Nivel de redundancia local: si un concepto conecta grupos cerrados de palabras o temas. Alta transitividad = lenguaje repetitivo o especializado. Actúa a nivel de nodo</p></li>
<li><p><strong>Modularidad</strong>: Grado en que la red se divide en comunidades o clusters. Por lo tanto, a diferencia de la medida anterior, actúa a nivel de red. En análisis de texto, mide el grado de segmentación temática: cuántos subcampos semánticos o discursos paralelos existen. Una alta modularidad suele indicar un discurso plural o polarizado.</p></li>
<li><p><strong>Asortividad</strong>: Correlación entre grados de los nodos conectados. Si palabras frecuentes se conectan entre sí (alta) o con palabras raras (baja). Útil para ver si el discurso tiene un “núcleo elitista” de términos.</p></li>
<li><p><strong>Core-periphery</strong>: Identifica un núcleo denso de nodos altamente conectados y una periferia menos conectada. En análisis de texto, revela si hay un conjunto central de conceptos clave que estructuran el discurso, rodeado por términos más marginales o especializados. Frecuente en discursos ideológicos o narrativos.</p></li>
</ul>
</section>
<section id="subestructuras-o-subcomponentes-de-una-red" class="level2">
<h2 class="anchored" data-anchor-id="subestructuras-o-subcomponentes-de-una-red">Subestructuras o subcomponentes de una red</h2>
<p>El análisis de subestructuras topológicas permite pasar del nivel de palabras o coocurrencias a un nivel más profundo: el de cómo se organiza el pensamiento en red. Podeomos identificar patrones recurrentes de conexiones que revelan cómo se agrupan las ideas y conceptos dentro del discurso.</p>
<ul>
<li><p><strong>Componentes</strong>: Subconjuntos de nodos conectados entre sí, pero no con otros nodos fuera del componente. Indican campos semánticos independientes o islas de sentido dentro del discurso. Una red con un solo componente sugiere unidad temática, mientras que múltiples componentes reflejan fragmentación o diversidad temática. Pueden estar compuestos por otros subcomponentes más sencillos estructuralmente, como los cliques o los motivos.</p></li>
<li><p><strong>Cliques</strong>: Subconjuntos de nodos donde cada nodo está conectado a todos los demás. Indican grupos temáticos muy cohesivos o jergas especializadas dentro del discurso. Mientras más grande el clique, más compacto y redundante es el discurso (las palabras se repiten juntas) y menos probable es que haya innovación semántica. Por el contrario, muchos cliques pequeños sugieren un lenguaje modular y variado, con asociaciones contextuales específicas.</p></li>
<li><p><strong>Motivos (motifs)</strong>: Pequeños patrones recurrentes de conexiones. Pueden representar patrones sintácticos o semánticos típicos, como tríadas de palabras que co-ocurren habitualmente. Los motifs revelan patrones locales de asociación: cómo las palabras tienden a vincularse y qué formas de conexión predominan.</p></li>
<li><p><strong>K-cores</strong>: Subconjuntos de nodos donde cada nodo está conectado a al menos k otros nodos dentro del subconjunto. Indican núcleos temáticos robustos dentro del discurso. Un k-core con un valor alto de k sugiere un grupo central de conceptos clave que están fuertemente interrelacionados, mientras que k-cores con valores bajos reflejan temas más periféricos o especializados.</p></li>
<li><p><strong>Comunidades (clusters)</strong>: Grupos de nodos con alta densidad de conexiones internas y baja densidad de conexiones externas. Indican subcampos semánticos o discursos paralelos dentro del corpus. La identificación de comunidades permite entender cómo se segmenta el discurso en temas o áreas de significado distintas.</p></li>
<li><p><strong>Puentes (bridges)</strong>: Nodos o enlaces que conectan diferentes comunidades o clusters. Indican palabras o conceptos clave que facilitan la transición entre temas o áreas de significado dentro del discurso. Los puentes son cruciales para la cohesión global del discurso, ya que permiten la integración de ideas diversas.</p></li>
<li><p><strong>Vacíos estructurales (structural holes)</strong>: Áreas en la red donde hay pocas o ninguna conexión entre nodos. Indican lagunas temáticas o áreas de significado no exploradas dentro del discurso. Identificar estos vacíos puede revelar oportunidades para la innovación semántica o la introducción de nuevos temas.</p></li>
<li><p><strong>backbone</strong>: La estructura esencial de la red, compuesta por los nodos y enlaces más importantes. En análisis de texto, el <em>backbone</em> revela el núcleo conceptual del discurso, destacando las palabras y conexiones que son fundamentales para la comprensión del tema central.</p></li>
</ul>
</section>
<section id="centralidad" class="level2">
<h2 class="anchored" data-anchor-id="centralidad">Centralidad</h2>
<p>En la teoría de redes, el protagonismo de un nodo puede medirse a través de distintas métricas de centralidad <span class="citation" data-cites="wasserman1994">(<a href="#ref-wasserman1994" role="doc-biblioref">Wasserman and Faust 1994</a>)</span>. Dichas técnicas permiten evaluar diferentes formas de influencia que cada personaje ejerce en la red. Por ejemplo, si miramos solo el número de personajes con quien habla cada uno, podríamos decir que una palabra es más importante que otras pues se encuentra vinculada a muchas otras más. No obstante, si ponderamos todas las formas posibles de interacción, quizás otras sean más importantes por hacer puente entre ideas, por ejemplo. El esquema abajo muestra la anatomía de una red social y los elementos estructurales que determinan las métricas de centralidad más comunes.</p>
<p><img src="anatomy_social.png" class="img-fluid"></p>
<p><br></p>
<p>Aquí nos concentraremos en siete métricas de centralidad que nos permiten evaluar el protagonismo de los nodos de una la red. Estas son:</p>
<ul>
<li><p><strong>Betweenness</strong>: mide la cantidad de veces que un nodo actúa como intermediario en la red. Cuanto más alto sea el valor de esta métrica, más importante será el nodo para conectar diferentes partes de la red. Es una medida de poder de intermediación: cuanto más conexiones intermedias tenga un nodo, más control tendrá sobre la difusión de información en la red. Esta es la medida que se suele emplear para medir la importancia de las palabras en una red semántica como “puentes conceptuales” entre campos temáticos. Su importancia se encuentra en que indica las palabras que conectan distintas partes del discurso. Pero ojo, no miden las más centrales en un tema. Para ello, deberíamos complementarla con otras métricas que ya discutiremos a continuación.</p></li>
<li><p><strong>Degree</strong>: mide el número de conexiones que tiene un nodo con otros nodos. Es la medida más común de centralidad: cuanto más conexiones un nodo tiene, más “poderoso” es. Sirve para medir los temas más comunes o las palabras más destacadas dentro de un tema.</p></li>
<li><p><strong>Closeness</strong>: mide la distancia promedio de un nodo a todos los demás nodos. Se trata de una medida de posición: cuanto más cerca esté un nodo de los demás, más rápido podrá difundir información a través de la red. En términos prácticos eso significa medir el acceso rápido a otros nodos en la red. En análisis de texto, sirve para medir las palabras semánticamente más cercanas al resto de palabras en un discurso.</p></li>
<li><p><strong>Eigenvector</strong>: mide la importancia de un nodo en función de la importancia de sus vecinos. Si un personaje interactúa con otro que también es importante, su importancia aumenta. Revela las palabras más prestigiosas o nucleares dentro del discurso dominante.</p></li>
<li><p><strong>PageRank</strong>: se trata de una medida basada en la anterior, pero que considera quién se dirige a quién. Por ejemplo, si una persona sigue a Taylor Swift en Twitter, no significa nada para su visibilidad en las redes. No obstante, si la cantante decide seguir a esta persona, su peso se verá aumentado de forma clara. Por lo tanto, nos permite identificar las palabras más relevantes por su contexto, no solo por la frecuencia. Como Eigenvector, tiende a destacar términos alineados con el núcleo ideológico del corpus, pues están cerca de otras palabras dominantes.</p></li>
<li><p><strong>Hub</strong>: mide la cantidad de conexiones que tiene un nodo con otros nodos importantes. En análisis de textos, sirve para identificar palabras que distribuyen significado o activan otros conceptos. Actúan como motores del discurso, conectando hacia múltiples ideas. En textos políticos, suelen ser verbos o conceptos-acción (“promover”, “garantizar”, “impulsar”).</p></li>
<li><p><strong>Authority</strong>: mide la cantidad de conexiones recibidas de otros nodos de tipo <strong>hub</strong> en la red. Una persona que se dirije a otros nodos influyentes posee un enorme potencial de difusión de su mensaje. Permite señalar aquellas palabras que concentran significado o reciben asociaciones semánticas. Actúan como ejes temáticos o nocionales (“justicia”, “desarrollo”, “paz”). En textos científicos o teóricos, pueden ser los conceptos-clave.</p></li>
</ul>
<p>En el código abajo, visualizamos la posición de cada uno de los personajes de la obra según las distintas métricas mencionadas:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(networkD3)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>texto <span class="ot">&lt;-</span> <span class="st">"El gobierno impulsa la reconstrucción nacional.</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="st">La reconstrucción requiere unidad y trabajo conjunto.</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="st">El trabajo del pueblo fortalece la economía.</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="st">La economía sólida garantiza la justicia social.</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="st">La justicia social consolida la paz y la democracia.</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="st">El gobierno promueve la paz a través del diálogo."</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Tokenizar texto</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>palabras <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">strsplit</span>(<span class="fu">tolower</span>(texto), <span class="st">"</span><span class="sc">\\</span><span class="st">W+"</span>))</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>palabras <span class="ot">&lt;-</span> palabras[palabras <span class="sc">!=</span> <span class="st">""</span>]</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>palabras <span class="ot">&lt;-</span> palabras[<span class="sc">!</span>palabras <span class="sc">%in%</span> <span class="fu">stopwords</span>(<span class="st">"es"</span>)]</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear aristas dirigidas palabra_i → palabra_(i+1)</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">from =</span> <span class="fu">head</span>(palabras, <span class="sc">-</span><span class="dv">1</span>), <span class="at">to =</span> <span class="fu">tail</span>(palabras, <span class="sc">-</span><span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(from, to) <span class="sc">%&gt;%</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weight =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="fu">simpleNetwork</span>(edges, <span class="at">fontSize =</span> <span class="dv">12</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="forceNetwork html-widget html-fill-item" id="htmlwidget-39089e653f824ab5dc42" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-39089e653f824ab5dc42">{"x":{"links":{"source":[0,1,2,4,4,5,6,7,7,8,9,10,11,11,12,13,14,14,15,16,16,17,18,18,19,20],"target":[18,11,7,4,17,4,9,8,12,14,16,14,2,19,11,5,10,15,20,1,9,6,0,13,3,18],"value":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"colour":["#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666"]},"nodes":{"name":["conjunto","consolida","democracia","diálogo","economía","fortalece","garantiza","gobierno","impulsa","justicia","nacional","paz","promueve","pueblo","reconstrucción","requiere","social","sólida","trabajo","través","unidad"],"group":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"nodesize":[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8]},"options":{"NodeID":"name","Group":"group","colourScale":"d3.scaleOrdinal(['#3182bd'])","fontSize":12,"fontFamily":"serif","clickTextSize":30,"linkDistance":50,"linkWidth":"'1.5px'.toString()","charge":-30,"opacity":0.6,"zoom":false,"legend":false,"arrows":false,"nodesize":true,"radiusCalculation":"d.nodesize","bounded":false,"opacityNoHover":1,"clickAction":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Ahora calculamos las distintas métricas de centralidad para cada palabra en la red y mostramos los resultados en una tabla interactiva:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea el gráfico de red</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>ge <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(edges)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Medidas básicas</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(ge)<span class="sc">$</span>degree <span class="ot">&lt;-</span> <span class="fu">round</span>(</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>                <span class="fu">degree</span>(ge, </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">mode =</span> <span class="st">"all"</span>, </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>                       <span class="at">normalized =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>                <span class="dv">2</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(ge)<span class="sc">$</span>closeness <span class="ot">&lt;-</span> <span class="fu">round</span>(</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">closeness</span>(ge, </span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>                              <span class="at">mode =</span> <span class="st">"all"</span>, </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>                              <span class="at">normalized =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>                    <span class="dv">2</span>)</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(ge)<span class="sc">$</span>betweenness <span class="ot">&lt;-</span> <span class="fu">round</span>(</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">betweenness</span>(ge, </span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">directed =</span> <span class="cn">TRUE</span>, </span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">normalized =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>                      <span class="dv">2</span>)</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(ge)<span class="sc">$</span>eigenvector <span class="ot">&lt;-</span> <span class="fu">round</span>(</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">eigen_centrality</span>(ge, </span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">directed =</span> <span class="cn">TRUE</span>)<span class="sc">$</span>vector,</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>                      <span class="dv">2</span>)</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(ge)<span class="sc">$</span>hub <span class="ot">&lt;-</span> <span class="fu">round</span>(</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>              <span class="fu">hits_scores</span>(ge)<span class="sc">$</span>hub,</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>              <span class="dv">2</span>)</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(ge)<span class="sc">$</span>authority <span class="ot">&lt;-</span> <span class="fu">round</span>(</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">hits_scores</span>(ge)<span class="sc">$</span>authority,</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>                    <span class="dv">2</span>)</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepara la visualización</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>centralidades <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">palabra =</span> <span class="fu">names</span>(<span class="fu">V</span>(ge)),</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">degree =</span> <span class="fu">V</span>(ge)<span class="sc">$</span>degree,</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">closeness=</span> <span class="fu">V</span>(ge)<span class="sc">$</span>closeness,</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>  <span class="at">betweenness =</span> <span class="fu">V</span>(ge)<span class="sc">$</span>betweenness,</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">eigenvector =</span> <span class="fu">V</span>(ge)<span class="sc">$</span>eigenvector,</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>  <span class="at">hub =</span> <span class="fu">V</span>(ge)<span class="sc">$</span>hub,</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>  <span class="at">authority =</span> <span class="fu">V</span>(ge)<span class="sc">$</span>authority</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Ordena por betweenness</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>centralidades <span class="ot">&lt;-</span> centralidades[<span class="fu">order</span>(centralidades<span class="sc">$</span>betweenness, </span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">decreasing =</span> T),]</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Muestra la tabla de centralidades</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(centralidades, <span class="at">resizable=</span>T)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-4b4ae76a8c3d16d14aee" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-4b4ae76a8c3d16d14aee">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"palabra":["paz","trabajo","consolida","social","garantiza","gobierno","justicia","reconstrucción","democracia","economía","sólida","fortalece","pueblo","unidad","requiere","impulsa","través","promueve","conjunto","nacional","diálogo"],"degree":[0.2,0.2,0.1,0.15,0.1,0.15,0.15,0.2,0.1,0.2,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.05],"closeness":[0.25,0.22,0.23,0.22,0.21,0.25,0.22,0.24,0.24,0.21,0.21,0.2,0.21,0.22,0.23,0.24,0.2,0.24,0.18,0.2,0.17],"betweenness":[0.53,0.46,0.45,0.45,0.44,0.44,0.44,0.44,0.43,0.43,0.43,0.42,0.42,0.4,0.39,0.38,0.05,0.02,0,0,0],"eigenvector":[0.6,0.15,0.68,1,0.07,0.28,0.73,0.25,0.41,0.15,0.1,0.07,0.1,0.11,0.17,0.19,0.41,0.19,0.1,0.17,0.28],"hub":[0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"authority":[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"columns":[{"id":"palabra","name":"palabra","type":"character"},{"id":"degree","name":"degree","type":"numeric"},{"id":"closeness","name":"closeness","type":"numeric"},{"id":"betweenness","name":"betweenness","type":"numeric"},{"id":"eigenvector","name":"eigenvector","type":"numeric"},{"id":"hub","name":"hub","type":"numeric"},{"id":"authority","name":"authority","type":"numeric"}],"resizable":true,"dataKey":"1ebef93dcac0266c5c2de06b81cfb0f3"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="comunidades-como-temas" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="comunidades-como-temas">Comunidades como temas</h2>
<p>Como hemos vistos, las comunidades o conglomerados son subgrupos dentro de una red que presentan una mayor densidad de interacciones entre sus miembros que con el resto de la red. En el análisis de redes semánticas, las comunidades pueden interpretarse como temas o subcampos semánticos dentro del corpus analizado. Identificar estas comunidades permite comprender cómo se organiza el discurso en torno a diferentes áreas temáticas y cómo se relacionan entre sí.</p>
<p>En nuestro caso, emplearemos el algoritmo de Louvain para detectar comunidades dentro de la red de coocurrencias generada a partir del debate sobre la Ley de Memoria Democrática. Este algoritmo es eficiente y efectivo para identificar grupos densamente conectados en grandes redes. A partir de los resultados podremos ano solo identificar los temas principales, sino que también analizar los términos que caracterizan el debate.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Usa la red de coocurrencias</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># generada para la Ley de </span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Memoria Democrática</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>ga <span class="ot">&lt;-</span> g</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea un cluster de palabras</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># según la conectividad de red</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12358</span>)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>wc <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(ga, </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>                      <span class="at">weights =</span> <span class="fu">E</span>(ga)<span class="sc">$</span>weight)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Atribuye la membresía a los </span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="co"># grupos</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(ga)<span class="sc">$</span>membership <span class="ot">&lt;-</span> wc<span class="sc">$</span>membership</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcula las centralidades de red</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="co"># betweenness y degree</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>bt <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">betweenness</span>(ga),<span class="dv">3</span>)</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>d1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">word=</span><span class="fu">names</span>(bt), </span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>                 <span class="at">betweenness=</span><span class="fu">round</span>(bt))</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>bt <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">degree</span>(ga)</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>d2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">word=</span><span class="fu">names</span>(bt), </span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>                 <span class="at">degree=</span>bt)</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>d3 <span class="ot">&lt;-</span> <span class="fu">merge</span>(d2, d1, <span class="at">by=</span><span class="st">"word"</span>)</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>co <span class="ot">&lt;-</span> <span class="fu">coreness</span>(ga)</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>d2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">word=</span><span class="fu">names</span>(co), </span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>                 <span class="at">coreness=</span>co)</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>d3 <span class="ot">&lt;-</span> <span class="fu">merge</span>(d3, d2, <span class="at">by=</span><span class="st">"word"</span>)</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>d3 <span class="ot">&lt;-</span> d3[<span class="fu">order</span>(d3<span class="sc">$</span>betweenness, </span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>               <span class="at">decreasing =</span> T),]</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Fusiona los datos de membresía</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a><span class="co"># a cada cluster con los datos</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a><span class="co"># de las palabras</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>da <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">as_data_frame</span>(ga, </span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>                            <span class="at">what =</span> <span class="st">"vertices"</span>)</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(da)[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">"word"</span></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>d4 <span class="ot">&lt;-</span> <span class="fu">merge</span>(d3, da, <span class="at">by=</span><span class="st">"word"</span>)</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>d4 <span class="ot">&lt;-</span> d4[<span class="fu">order</span>(<span class="sc">-</span>d4<span class="sc">$</span>membership, </span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>               d4<span class="sc">$</span>betweenness,</span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>               <span class="at">decreasing =</span> T),]</span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a><span class="co"># Seleccion las 20 palabras</span></span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a><span class="co"># con más peso en cada grupo</span></span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>zz <span class="ot">&lt;-</span> d4 <span class="sc">|&gt;</span> </span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(betweenness)) <span class="sc">|&gt;</span></span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(membership) <span class="sc">|&gt;</span></span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) </span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a><span class="co"># Muestra la tabla de comunidades</span></span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(zz, <span class="at">resizable=</span>T)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-87a0cb40cc1976269323" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-87a0cb40cc1976269323">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"word":["democracia","transición","pasado","constitución","aunque","libertad","proceso","convivencia","sociedad","española","españoles","política","periodo","aquellos","aquel","asesinato","sectario","violencia","elecciones","pública","derecha","izquierda","república","padre","ultraderecha","moral","siguiente","hermano","católica","fotos","años","dos","nunca","hace","vez","después","tiempo","días","tres","mismo","régimen","franco","declaración","fascista","centro","muerte","medidas","órganos","tribunales","democrático","ley","gobierno","memoria","democrática","proyecto","toda","hizo","texto","mientras","dice","víctimas","parte","dictadura","todas","franquismo","personas","guerra","siempre","aquella","civil","ustedes","bien","hecho","ahora","decir","cómo","gente","histórico","hacen","pueden","ser","hacer","puede","ejemplo","momento","ningún","asesinado","ver","vamos","ninguna","españa","historia","país","europa","mejor","precisamente","aún","público","servicio","mundo","señor","presidente","muchas","señora","común","veces","diciendo","sentido","sabemos","sánchez","hoy","aquí","así","dicho","día","van","va","realidad","todavía","hablando","poder","judicial","consejo","tener","movimiento","sistema","independencia","general","cambio","administración","justicia","verdad","reparación","cuestión","reconocimiento","especial","intervención","perdón","pone","quiere","si","lugar","debate","josé","nación","gonzález","segundo","frase","matar","gernika","señorías","solo","sino","tan","cámara","psoe","olvido","forma","definitiva","objeto","sufrido","heridas","países","conocen","cientos","fusilados","europeos","personales","entorno","reto","bildu","apoyo","comunidad","pablo","comisiones","pagar","arte","iglesias","recibido","catalana","queremos","enmiendas","enmienda","podemos","través","favor","claro","totalidad","galicia","contenido","derechos","derecho","defensa","nacional","hijos","relación","comisión","padres","respeto","humanos","partido","popular","socialista","grupo","frente","vox","político","diputados","aplausos","social","usted","decía","igual","ayer","poner","fin","da","voto","portavoz","vergüenza","menos","políticos","partidos","grupos","bandos","tantos","parlamentarios","concedido","pensiones","purgados","caso","tribunal","jueces","constitucional","tal","patrimonio","cataluña","recursos","encima","supremo","mujeres","español","lucha","pueblo","propio","imperativo","tiempos","ético","hispanidad","bienes","ello","año","tras","acuerdo","fuerzas","carácter","pesar","policía","comisario","posiciones","instituciones","principio","catalunya","defender","cunetas","sueño","causa","jaime","exhumación","cuerpos","leyes","franquistas","aspectos","electoral","generales","derechas","cortes","expresamente","torturadas","directamente","guernica","estilo","gipuzkoa","ayuntamiento","picasso","dedicación","san","alfonsino","bombardeo","cristo","cabeza","margarita","callan","jefe","brazo","formar","genaro","mariscal","tensando","aceptar","deberían","revolución","javier","francisco","múgica","diario","sesiones","clarificadora","concejal","asturias","asko","eskerrik","esker","mila","avergüenza","lógico"],"degree":[113,76,62,66,48,43,29,29,29,28,62,44,39,23,21,16,14,14,9,13,44,41,27,16,18,23,12,9,6,4,106,62,53,67,55,46,35,31,35,27,49,32,21,24,14,17,16,17,14,20,404,143,148,65,58,40,23,39,25,26,199,63,81,78,77,72,58,43,24,31,187,75,60,65,52,36,38,25,22,25,103,60,52,26,42,25,21,22,19,28,124,99,80,38,32,27,29,15,16,11,70,39,40,23,18,18,17,17,22,22,127,82,45,36,45,42,37,30,26,16,95,59,42,22,16,20,16,23,16,11,94,68,52,35,34,15,24,21,14,17,130,50,36,16,16,12,12,9,9,7,123,73,54,43,38,38,29,27,14,12,19,13,15,5,6,6,7,4,7,4,29,11,9,2,6,4,6,6,6,8,41,38,35,19,25,29,23,25,3,9,65,50,25,22,25,19,17,19,16,19,105,55,48,45,31,47,31,26,26,25,24,19,23,29,18,22,21,20,12,16,37,41,32,20,12,7,14,4,6,2,40,52,43,45,24,8,15,13,10,9,28,27,22,20,12,4,10,4,4,9,26,23,23,18,18,13,9,12,6,7,36,14,7,8,8,7,8,4,9,6,28,18,12,13,7,18,10,6,6,6,4,4,3,5,2,2,5,2,2,2,6,4,4,6,2,2,2,2,2,4,11,5,5,8,2,4,6,2,2,4,1,1,1,1,1,1],"betweenness":[418593,365702,232584,220081,200270,148707,80438,73435,64342,63325,268207,138877,136108,58145,49087,41700,33851,29422,26607,23239,133968,119214,86449,57470,38690,37650,29040,21256,18183,14632,422813,235296,200609,196292,172061,119977,119894,100786,94515,79508,183493,102937,62548,57978,53424,44777,35198,34302,31867,30050,2502365,658062,651778,208509,156646,133086,121870,102525,96152,94206,1027739,294529,273346,263370,244107,233783,191136,136152,103660,92248,1036401,337528,296963,203475,200375,124679,96150,75212,68914,62688,471956,192007,133140,116366,111691,68898,57561,52276,44928,44739,705433,477409,341223,103438,81148,65521,64826,49023,34135,30334,255344,124546,103612,54041,50316,49722,49021,43955,43637,40107,594129,324880,179733,146234,138924,105145,104875,103496,68268,48070,361966,216827,82839,56909,41278,39484,39105,37127,36829,35219,312358,286176,98931,97138,75588,61456,43671,33248,32376,30031,576459,184334,106472,55095,40029,35651,32752,27510,24924,24457,553259,330199,237326,156459,107094,102429,86893,70879,59482,57111,27075,23468,15244,11722,10626,8754,7378,5738,5436,3757,79716,28267,24196,19792,16841,16803,15439,15394,14695,14009,95274,86239,84509,71693,64886,52132,51029,38637,22520,21183,181297,164014,103470,56679,55252,49734,49077,46488,43744,42576,496531,244571,168291,153063,119122,102826,94453,72133,60675,52247,49577,49325,48341,45882,43819,43094,36792,35828,33296,23239,153779,139526,62832,41473,28125,23166,23078,17914,13072,11264,183419,151738,119918,99714,47725,38533,29074,24101,23423,20215,81799,70498,44553,42842,29425,22331,19339,17010,16965,13980,74469,51577,50382,36721,33081,20103,19067,18493,14141,11411,106897,27157,22705,11803,11453,10729,10083,9959,9565,9173,90209,40895,23411,23180,21566,20524,16041,15526,15119,14405,13948,9091,6262,5400,4265,3095,1560,1360,198,53,27822,13279,9195,8803,7621,6017,5941,5633,5523,4971,26428,20589,19767,14445,11264,9366,8642,5706,5633,4620,0,0,0,0,0,0],"coreness":[8,8,8,8,8,8,8,8,7,8,8,8,8,8,8,7,5,7,6,5,8,8,7,6,7,6,6,4,4,2,8,8,8,8,8,8,8,8,8,8,8,8,8,8,5,6,4,6,4,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,6,8,8,8,8,8,8,8,8,6,8,8,8,8,8,8,8,8,8,8,6,7,4,8,8,8,7,7,7,8,7,8,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,6,6,7,7,6,4,8,8,8,8,8,5,6,8,5,8,8,8,8,4,6,6,7,4,3,4,8,8,8,8,7,8,8,8,6,6,7,5,6,3,3,2,4,3,4,3,7,6,3,2,3,2,3,2,3,3,8,8,8,7,8,8,8,8,2,4,8,8,8,6,8,4,6,8,7,8,8,8,8,8,8,8,8,7,7,7,8,6,8,8,6,7,8,7,6,7,8,8,6,7,5,3,7,3,3,1,8,8,8,7,8,3,6,6,4,5,8,8,8,6,5,3,5,2,2,4,8,7,7,6,6,5,5,4,3,4,8,4,2,4,4,4,4,2,4,4,8,6,4,5,3,6,4,4,4,3,2,3,2,2,2,2,2,2,2,2,3,2,3,2,2,2,2,1,2,2,5,3,3,3,1,2,4,2,1,3,1,1,1,1,1,1],"membership":[1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,16,16,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,30,30,30,30,30,30,30,30,30,30,31,31,31,31,31,31,31,31,31,31,32,32,33,33,34,34]},"columns":[{"id":"word","name":"word","type":"character"},{"id":"degree","name":"degree","type":"numeric"},{"id":"betweenness","name":"betweenness","type":"numeric"},{"id":"coreness","name":"coreness","type":"numeric"},{"id":"membership","name":"membership","type":"numeric"}],"resizable":true,"dataKey":"d6b6d174ed5d4fc48a7e75c8371f08b2"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<p>El paso siguiente puede ser averiguar el peso relativo de cada comunidad dentro del debate. Para ello, hemos creado una función que calcula</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Funcion para calcular el peso</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># relativo de cada cluster en la</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># red semantica</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>pesoCluster <span class="ot">&lt;-</span> <span class="cf">function</span>(g, </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">cluster_attr =</span> <span class="st">"cluster"</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">centralidad =</span> <span class="fu">c</span>(<span class="st">"degree"</span>, <span class="st">"betweenness"</span>)) {</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(dplyr)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(igraph)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Validaciones básicas</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span>cluster_attr <span class="sc">%in%</span> <span class="fu">vertex_attr_names</span>(g)) <span class="fu">stop</span>(<span class="st">"El grafo no tiene atributo de cluster especificado."</span>)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  centralidad <span class="ot">&lt;-</span> <span class="fu">intersect</span>(centralidad, <span class="fu">vertex_attr_names</span>(g))</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(centralidad) <span class="sc">==</span> <span class="dv">0</span>) <span class="fu">stop</span>(<span class="st">"No se encontraron medidas de centralidad en los atributos del grafo."</span>)</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extraer data frame de nodos y aristas</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  nodes <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">as_data_frame</span>(g, <span class="at">what =</span> <span class="st">"vertices"</span>)</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  edges <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">as_data_frame</span>(g, <span class="at">what =</span> <span class="st">"edges"</span>)</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># --- 1. Peso por tamaño del cluster ---</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  peso_tamaño <span class="ot">&lt;-</span> nodes <span class="sc">%&gt;%</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(<span class="sc">!!</span><span class="fu">sym</span>(cluster_attr), <span class="at">name =</span> <span class="st">"n_nodos"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(peso_tamaño <span class="ot">=</span> n_nodos <span class="sc">/</span> <span class="fu">sum</span>(n_nodos))</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># --- 2. Peso por centralidad total (degree y betweenness) ---</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  peso_centralidad <span class="ot">&lt;-</span> nodes <span class="sc">%&gt;%</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(<span class="sc">!!</span><span class="fu">sym</span>(cluster_attr)) <span class="sc">%&gt;%</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(centralidad), sum, <span class="at">.names =</span> <span class="st">"sum_{col}"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (c <span class="cf">in</span> centralidad) {</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    colname <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"sum_"</span>, c)</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>    peso_centralidad[[<span class="fu">paste0</span>(<span class="st">"peso_"</span>, c)]] <span class="ot">&lt;-</span> peso_centralidad[[colname]] <span class="sc">/</span> <span class="fu">sum</span>(peso_centralidad[[colname]])</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># --- 3. Densidad interna por cluster ---</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>  clusters <span class="ot">&lt;-</span> <span class="fu">unique</span>(nodes[[cluster_attr]])</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>  densidades <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">cluster =</span> clusters, <span class="at">densidad =</span> <span class="cn">NA_real_</span>)</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(clusters)) {</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>    subg <span class="ot">&lt;-</span> <span class="fu">induced_subgraph</span>(g, <span class="at">vids =</span> <span class="fu">which</span>(nodes[[cluster_attr]] <span class="sc">==</span> clusters[i]))</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>    densidades<span class="sc">$</span>densidad[i] <span class="ot">&lt;-</span> <span class="cf">if</span> (<span class="fu">vcount</span>(subg) <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="fu">edge_density</span>(subg) <span class="cf">else</span> <span class="dv">0</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># --- 4. Enlaces externos ---</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>  edges<span class="sc">$</span>c1 <span class="ot">&lt;-</span> nodes[[cluster_attr]][<span class="fu">match</span>(edges<span class="sc">$</span>from, nodes<span class="sc">$</span>name)]</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>  edges<span class="sc">$</span>c2 <span class="ot">&lt;-</span> nodes[[cluster_attr]][<span class="fu">match</span>(edges<span class="sc">$</span>to, nodes<span class="sc">$</span>name)]</span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>  enlaces_externos <span class="ot">&lt;-</span> edges <span class="sc">%&gt;%</span></span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(c1 <span class="sc">!=</span> c2) <span class="sc">%&gt;%</span></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(c1, <span class="at">name =</span> <span class="st">"enlaces_externos"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">cluster =</span> c1) <span class="sc">%&gt;%</span></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">peso_externo =</span> enlaces_externos <span class="sc">/</span> <span class="fu">sum</span>(enlaces_externos))</span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(densidades)[<span class="dv">1</span>] <span class="ot">&lt;-</span> cluster_attr</span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(enlaces_externos)[<span class="dv">1</span>] <span class="ot">&lt;-</span> cluster_attr</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>  res <span class="ot">&lt;-</span> <span class="fu">merge</span>(peso_tamaño, peso_centralidad, <span class="at">by=</span>cluster_attr, <span class="at">all.x=</span>T)</span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>  res <span class="ot">&lt;-</span> <span class="fu">merge</span>(res, densidades, <span class="at">by=</span>cluster_attr, <span class="at">all.x=</span>T)</span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>  res <span class="ot">&lt;-</span> <span class="fu">merge</span>(res, enlaces_externos, <span class="at">by=</span>cluster_attr, <span class="at">all.x=</span>T)</span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>densidad[<span class="fu">is.na</span>(res<span class="sc">$</span>densidad)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>peso_externo[<span class="fu">is.na</span>(res<span class="sc">$</span>peso_externo)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>enlaces_externos[<span class="fu">is.na</span>(res<span class="sc">$</span>enlaces_externos)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>peso_tamaño <span class="ot">&lt;-</span> <span class="fu">round</span>(res<span class="sc">$</span>peso_tamaño, <span class="dv">4</span>)</span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>peso_degree <span class="ot">&lt;-</span> <span class="fu">round</span>(res<span class="sc">$</span>peso_degree, <span class="dv">4</span>)</span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>peso_betweenness <span class="ot">&lt;-</span> <span class="fu">round</span>(res<span class="sc">$</span>peso_betweenness,<span class="dv">4</span>)</span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>densidad <span class="ot">&lt;-</span> <span class="fu">round</span>(res<span class="sc">$</span>densidad, <span class="dv">4</span>)</span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>peso_externo <span class="ot">&lt;-</span> <span class="fu">round</span>(res<span class="sc">$</span>peso_externo, <span class="dv">4</span>)</span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(res)</span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcula las centralidades de red</span></span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(ga)<span class="sc">$</span>degree <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">degree</span>(ga)</span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(ga)<span class="sc">$</span>betweenness <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">betweenness</span>(ga)</span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcula el peso de cada cluster</span></span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a>pesos <span class="ot">&lt;-</span> <span class="fu">pesoCluster</span>(ga, </span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a>                     <span class="at">cluster_attr =</span> <span class="st">"membership"</span>)</span>
<span id="cb6-82"><a href="#cb6-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-83"><a href="#cb6-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-84"><a href="#cb6-84" aria-hidden="true" tabindex="-1"></a><span class="co"># Muestra los pesos de cada cluster</span></span>
<span id="cb6-85"><a href="#cb6-85" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(pesos, </span>
<span id="cb6-86"><a href="#cb6-86" aria-hidden="true" tabindex="-1"></a>          <span class="at">resizable=</span>T)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-d41262ce8caac0bbfe1e" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d41262ce8caac0bbfe1e">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"membership":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34],"n_nodos":[288,174,157,304,231,396,460,334,238,204,160,282,194,214,186,249,44,98,150,204,144,149,99,175,120,95,87,136,11,24,28,2,2,2],"peso_tamaño":[0.0511,0.0308,0.0278,0.0539,0.041,0.0702,0.0815,0.0592,0.0422,0.0362,0.0284,0.05,0.0344,0.0379,0.033,0.0441,0.0078,0.0174,0.0266,0.0362,0.0255,0.0264,0.0176,0.031,0.0213,0.0168,0.0154,0.0241,0.002,0.0043,0.005,0.0004,0.0004,0.0004],"sum_degree":[1559,768,635,1729,933,2894,2898,1907,1339,1184,843,1541,954,1119,817,1327,174,343,692,965,924,682,425,769,434,392,321,514,33,65,90,2,2,2],"sum_betweenness":[2923695.94480284,1250813.3894735,925188.478345518,3106061.29324434,1308974.34065395,6989825.6032582,5835324.09012955,4045991.35505261,2283442.93244882,2578905.99176327,1457271.19551459,2821694.04586622,1520313.33666592,1738023.74537728,1640767.11055525,2766694.87035244,149375.144681212,476488.19586701,952502.499041879,1578968.54455162,1981795.32471551,814985.96763924,713703.700745685,1156863.02324331,613095.690179584,466417.828010293,335498.905427373,615691.679482063,45232.9355793162,113688.759388673,140991.844381796,0,0,0],"peso_degree":[0.0533,0.0262,0.0217,0.0591,0.0319,0.0989,0.099,0.0651,0.0457,0.0404,0.0288,0.0526,0.0326,0.0382,0.0279,0.0453,0.0059,0.0117,0.0236,0.033,0.0316,0.0233,0.0145,0.0263,0.0148,0.0134,0.011,0.0176,0.0011,0.0022,0.0031,0.0001,0.0001,0.0001],"peso_betweenness":[0.0548,0.0234,0.0173,0.0582,0.0245,0.131,0.1094,0.0758,0.0428,0.0483,0.0273,0.0529,0.0285,0.0326,0.0308,0.0519,0.0028,0.0089,0.0179,0.0296,0.0371,0.0153,0.0134,0.0217,0.0115,0.0087,0.0063,0.0115,0.0008,0.0021,0.0026,0,0,0],"densidad":[0.0089,0.0129,0.0147,0.0095,0.0104,0.0082,0.0068,0.0081,0.0106,0.0122,0.0152,0.0089,0.0127,0.0118,0.012,0.0098,0.0497,0.0221,0.0154,0.0122,0.0183,0.0151,0.0227,0.0134,0.0175,0.0233,0.0241,0.0156,0.1818,0.0833,0.0741,1,1,1],"enlaces_externos":[409,181,109,441,140,1080,771,519,350,379,221,400,217,293,212,380,29,37,145,223,343,112,97,153,62,71,46,62,2,7,6,0,0,0],"peso_externo":[0.0546,0.0241,0.0145,0.0588,0.0187,0.1441,0.1028,0.0692,0.0467,0.0506,0.0295,0.0534,0.0289,0.0391,0.0283,0.0507,0.0039,0.0049,0.0193,0.0297,0.0458,0.0149,0.0129,0.0204,0.0083,0.0095,0.0061,0.0083,0.0003,0.0009,0.0008,0,0,0]},"columns":[{"id":"membership","name":"membership","type":"numeric"},{"id":"n_nodos","name":"n_nodos","type":"numeric"},{"id":"peso_tamaño","name":"peso_tamaño","type":"numeric"},{"id":"sum_degree","name":"sum_degree","type":"numeric"},{"id":"sum_betweenness","name":"sum_betweenness","type":"numeric"},{"id":"peso_degree","name":"peso_degree","type":"numeric"},{"id":"peso_betweenness","name":"peso_betweenness","type":"numeric"},{"id":"densidad","name":"densidad","type":"numeric"},{"id":"enlaces_externos","name":"enlaces_externos","type":"numeric"},{"id":"peso_externo","name":"peso_externo","type":"numeric"}],"resizable":true,"dataKey":"6d7053b4bfd3a2ac351cb9a33e082fbc"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Ahora pasamos a la visualización del cluster 7, que contiene el debate sobre las víctimas y muestra las posiciones encontradas de actores de la derecha y la izquierda de la política española. No visualizamos toda la red, porque sería poco productivo. Se tratan de 5.641 nodos y 14.638 vínculos, algo muy complicado de representar visualmente. El cluster 7 contiene 460 nudos y 720 vínculos, que resulta un poco más fácil de visualizar:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define el número de cluster</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>clust_no <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecciona el cluster 7</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>Keep1 <span class="ot">=</span> <span class="fu">V</span>(ga)[<span class="fu">V</span>(ga)<span class="sc">$</span>membership<span class="sc">%in%</span>clust_no]</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># filtra solo los nodos del cluster</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>ga1  <span class="ot">&lt;-</span> <span class="fu">induced_subgraph</span>(ga, Keep1)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcula el numero de conexiones de cada nodo</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(ga1)<span class="sc">$</span>weight <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">degree</span>(ga1)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Elimina los nodos con menos de 3 conexiones</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co"># para facilitar la visualización</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>ga1 <span class="ot">&lt;-</span> ga1 <span class="sc">-</span> <span class="fu">V</span>(ga1)<span class="sc">$</span>name[<span class="fu">V</span>(ga1)<span class="sc">$</span>weight<span class="sc">&lt;</span><span class="dv">3</span>]</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Convierte a formato networkD3</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>dd1 <span class="ot">&lt;-</span> <span class="fu">igraph_to_networkD3</span>(ga1, <span class="at">group =</span> <span class="fu">V</span>(ga1)<span class="sc">$</span>membership)</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Asigna el peso de cada nodo</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>dd1<span class="sc">$</span>nodes<span class="sc">$</span>weight <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">degree</span>(ga1)</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualiza la red</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="fu">forceNetwork</span>(<span class="at">Links =</span> dd1<span class="sc">$</span>links,  </span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>             <span class="at">linkColour =</span> <span class="st">"#C9C7C7"</span>, </span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>             <span class="at">Nodesize =</span> <span class="st">"weight"</span>,</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>             <span class="at">width =</span> <span class="dv">1200</span>, </span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>             <span class="at">height =</span> <span class="dv">1800</span>, </span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>             <span class="at">bounded =</span> T,</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>             <span class="at">linkDistance =</span> <span class="dv">80</span>, </span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>             <span class="at">charge=</span><span class="sc">-</span><span class="dv">30</span>,</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>             <span class="at">opacity=</span><span class="dv">1</span>,</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>             <span class="at">opacityNoHover=</span><span class="dv">1</span>,</span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>             <span class="at">Nodes =</span> dd1<span class="sc">$</span>nodes, </span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>             <span class="at">Source =</span> <span class="st">'source'</span>, </span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>             <span class="at">Target =</span> <span class="st">'target'</span>, </span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>             <span class="at">NodeID =</span> <span class="st">'name'</span>, </span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>             <span class="at">Group =</span> <span class="st">'group'</span>,</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>             <span class="at">fontSize =</span> <span class="dv">22</span>,</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>             <span class="at">radiusCalculation =</span> <span class="st">"(Math.sqrt(d.nodesize)^0.57)*10"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="column-screen">
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-bcb3dcd2a1d4ff62c12f" style="width:100%;height:975px;" class="forceNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-bcb3dcd2a1d4ff62c12f">{"x":{"links":{"source":[6,7,75,8,73,20,35,37,0,33,7,7,22,18,4,10,45,46,42,11,16,12,6,35,0,3,0,12,10,30,0,55,0,18,30,19,79,5,18,20,39,18,19,41,65,7,0,5,9,7,60,20,41,15,7,1,17,9,58,18,0,20,7,84,0,13,0,68,37,30,55,84,36,86,84,94,15,0,15,0,2,1,20,72,103,20,0,51,53,14,13,0,85,10,0,28,30,9,17,25,32,0,103,41,7,6,8,6,0,29,16,16,27,55,37,3,20,0,0,8,19,42,7,37,28,60,0,76,20,65,69,108,9,18,28,0,1,35,7,20,23,20,0,0,23,14,21,34,16,0,30,23,13,28,56,0,64,14,28,20,68,101,74,66,0,14,24,49,63,0,60,25,6,37,36,23,0,20,49,57,7,1,123,70,122,37,60,28,0,23,62,0,20,38,0,16,0,75,13,0,22,56,0,27,0,16,20,28,0,6,0,49,78,23,8,0,16,0,102,35,43,0,11,0,13,7,37,15,1,20,76,23,79,98,53,0,34,1,107,0,0,6,0,7,36,67,32,28,21,47,0,8,29,16,45,36,7,35,22,33,17,37,57,27,85,82,85,7,0,0,15,30,42,27,36,8,74,23,50,25,52,0,0,34,23,7,26,0,22,20,16,25,0,11,16,7,0,78,37,53,43,0,14,31,8,23],"target":[117,101,101,101,101,88,78,78,78,78,78,30,30,30,9,108,108,108,108,38,38,38,38,38,38,129,129,129,61,61,61,61,42,42,42,96,96,96,96,94,56,56,32,115,115,18,18,18,118,118,118,118,118,63,63,63,131,131,95,95,95,28,28,86,86,86,97,97,97,133,133,133,90,125,125,134,134,65,19,7,7,7,122,122,124,124,98,111,116,116,116,132,132,41,41,41,41,41,41,41,123,105,105,58,58,104,31,31,31,31,31,59,59,59,59,59,59,59,20,20,20,57,57,57,81,81,1,114,114,114,114,114,114,37,37,37,37,37,37,37,37,29,29,45,45,45,45,45,45,43,43,43,100,60,60,77,77,75,75,75,75,128,128,128,53,53,53,71,71,64,73,73,40,40,40,40,40,40,109,109,15,15,126,126,126,87,87,87,70,70,113,21,69,49,49,55,55,79,84,26,26,136,136,50,112,112,112,54,25,25,106,106,137,137,74,27,27,110,110,110,127,127,16,16,16,121,121,121,121,119,119,119,103,103,102,99,99,2,138,138,36,36,89,89,89,130,34,34,34,92,92,92,92,92,83,83,85,85,85,85,85,85,85,91,91,120,120,120,8,24,44,44,44,82,82,93,93,67,67,67,67,67,80,80,80,35,35,35,35,35,35,39,17,23,23,23,23,139,139,62,62,13,68,72,72,72],"colour":["#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7"]},"nodes":{"name":["víctimas","golpe","provocaron","reivindicaciones","hicieron","relata","recordar","dictadura","restos","asesinatos","terrorista","aquellas","peticiones","unas","permite","julio","personas","terrorismo","civil","diciembre","franquismo","mayo","fascismo","todas","sangre","olvidar","nazismo","parte","crímenes","herederos","asesinados","familiares","cierto","continuidad","recuerdo","sufrieron","quiero","guerra","asociaciones","superar","ir","eta","bando","honrar","según","homenaje","motivaciones","deseo","desaparecidos","memorialistas","objetivo","parecen","tratando","incluso","olvidan","miles","capaz","franquista","existe","familias","humanidad","banda","trece","condena","insultar","detrás","sufrimiento","siempre","verdugos","medios","lograr","incluye","víctima","intentar","paradero","impunidad","delito","ignorar","aquella","modelo","significa","genocidio","señalar","rendir","monjas","represión","cuidado","lesa","apátridas","reconocer","decirles","responsabilidades","recuperar","seres","cabe","conflicto","barcelona","cuyos","entrar","proteger","horas","acabar","propia","prisión","fácil","exilio","organizaciones","dijeron","asesino","jamás","persecución","equidistancia","olvidadas","lorca","grave","cifras","establecer","acaba","cometidos","prácticamente","responsables","posterior","efectos","excepción","ejecutado","dejó","jurídicos","perseguir","incertidumbre","atiende","reconocidas","condeno","estructuras","decenas","destacar","facilitar","negar","padecieron","querían","tragedia"],"group":[7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],"nodesize":[53,7,2,2,1,2,7,20,8,5,3,3,2,6,5,7,13,4,9,4,19,3,4,14,2,6,3,6,10,4,9,6,3,2,6,11,7,17,7,2,6,10,6,5,3,8,1,1,0,5,2,1,1,6,1,5,4,5,3,7,6,4,3,4,2,3,1,6,3,2,3,2,4,3,3,6,2,2,7,3,3,2,3,2,4,10,4,3,1,3,1,2,5,2,2,3,4,3,2,2,1,5,2,4,1,2,2,1,5,2,3,1,3,1,6,2,3,1,5,3,3,4,3,2,2,2,3,2,3,3,1,2,2,3,2,0,2,2,2,2]},"options":{"NodeID":"name","Group":"group","colourScale":"d3.scaleOrdinal(d3.schemeCategory20);","fontSize":22,"fontFamily":"serif","clickTextSize":55,"linkDistance":120,"linkWidth":"function(d) { return Math.sqrt(d.value); }","charge":-60,"opacity":1,"zoom":false,"legend":false,"arrows":false,"nodesize":true,"radiusCalculation":"(Math.sqrt(d.nodesize)^0.57)*4","bounded":true,"opacityNoHover":1,"clickAction":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<p>Una vez generados los clusters de palabras, cada uno de ellos nos indicará un tema contenido en el debate. Como hemos visto en el sociograma anterior, resulta posible identificar un nodo central, víctimas, circundado por otros nodos altamente interconectados como guerra, franquismo, dictadura, eta, crímenes, civil, represión. Eso nos revela que el discurso se centra en las víctimas para articular todo el debate sobre la dictadura franquista, la guerra civil y el terrorismo de ETA.</p>
</section>
<section id="filtros" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="filtros">Filtros</h2>
<p>La versión que hemos apresentado es una versión completa del gráfico. No obstante, podemos filtrar los datos para facilitar la comprensión de la red. Por ejemplo, podemos eliminar las aristas con menos de tres casos para centrarnos en las co-ocurrencias y palabras más relevantes dentro del cluster. Esto nos permite visualizar mejor la red como un todo y vislumbarar las relaciones entre los distintos temas.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Genera el gráfico ahora como data.frame</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># para poder filtrar los vínculos</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>gf <span class="ot">&lt;-</span> <span class="fu">genCoocurrence</span>(cp, </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">return.graph =</span> <span class="cn">FALSE</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtra los vínculos con peso &gt;2</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>gf <span class="ot">&lt;-</span> gf[gf<span class="sc">$</span>weight<span class="sc">&gt;</span><span class="dv">2</span>,]</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Reconstruye el grafo</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>gb <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(gf, </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>                            <span class="at">directed =</span> F)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(gb)<span class="sc">$</span>weight <span class="ot">&lt;-</span> gf<span class="sc">$</span>weight</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea un cluster de palabras</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12358</span>)</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>wc <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(gb, </span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>                      <span class="at">weights =</span> <span class="fu">E</span>(gb)<span class="sc">$</span>weight)</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Atribuye la membresía a los </span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="co"># grupos</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(gb)<span class="sc">$</span>membership <span class="ot">&lt;-</span> wc<span class="sc">$</span>membership</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcula el numero de conexiones de cada nodo</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(gb)<span class="sc">$</span>weight <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">degree</span>(gb)</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Convierte a formato networkD3</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> <span class="fu">igraph_to_networkD3</span>(gb, <span class="at">group =</span> <span class="fu">V</span>(gb)<span class="sc">$</span>membership)</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>dd<span class="sc">$</span>nodes<span class="sc">$</span>weight <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">degree</span>(gb)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div class="column-screen">
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-b81402868b06ec2698bb" style="width:100%;height:909px;" class="forceNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-b81402868b06ec2698bb">{"x":{"links":{"source":[0,1,2,3,4,5,6,7,8,9,10,4,25,11,12,13,14,15,4,16,4,17,18,19,4,16,20,158,4,21,23,22,23,24,25,20,26,27,4,28,29,30,31,32,33,34,6,35,36,20,37,38,38,38,4,39,40,41,42,37,43,137,44,4,45,46,141,8,47,101,25,10,50,51,52,53,6,54,55,38,47,56,38,57,16,58,59,16,60,40,61,25,62,40,63,50,59,13,70,64,65,70,38,66,16,67,11,68,69,4,4,39,38,25,71,72,81,73,74,76,77,78,49,79,80,82,81,83,84,85,21,25,87,49,88,89,4,91,92,93,10,94,28,95,96,97,70,63,4,99,98,100,101,102,39,54,8,103,77,78,105,6,106,4,13,107,20,16,135,53,110,111,4,6,111,30,60,40,113,4,115,103,99,116,63,117,4,21,118,119,120,121,153,115,122,111,123,92,78,124,126,125,45,127,128,65,42,119,25,131,40,40,86,132,133,59,106,9,13,4,134,135,109,136,70,19,30,20,4,137,135,77,138,19,139,140,141,83,142,11,38,143,144,111,84,78,4,70,145,146,147,81,109,8,2,148,13,8,150,151,4,38,95,152,154,155,16,157,141,60,158,159,40,44,78,2,136,81,4,136,162,135,163,20,163,136,4,164,4,33,47,165,136,166,4,4,167,13,4,13,168,40,99,60,133,2,170,171,38,83,173,172,4,103,77,70,61,4,4,104,104,70,30,175,174,176,177,161,171,178,59,179,181,182,20,59,183,164,184,61,167,73,6,44,6,187,4,6,188,106,91,16,189,81,44,48,190,191,10,63,192,193,70,194,195,23,196,4,77,19,70,197,98,2,114,21,38,38,198,75,120,92,70,43,4,73,53,38,38,202,4,152,115,77,40,30,116,45,54,55,49,53,39,40,30,4,204,21,205,103,168,206,6,4,103],"target":[208,209,210,211,212,213,27,214,215,216,217,218,38,38,219,219,167,220,221,222,222,222,223,224,114,114,225,169,226,226,90,227,228,229,230,231,232,133,233,233,234,235,236,237,67,238,12,239,240,241,242,243,244,245,246,247,248,249,250,251,252,180,253,254,255,256,201,184,184,104,257,199,258,259,260,261,262,119,119,188,188,188,47,263,264,265,266,267,268,269,270,65,271,272,273,274,275,92,115,115,103,103,276,277,143,143,75,75,278,278,69,54,54,54,279,280,108,108,281,282,283,284,285,286,287,288,288,106,289,289,48,48,172,290,291,292,293,294,295,295,200,200,112,296,297,298,299,300,206,206,206,206,301,302,55,303,160,304,175,101,305,306,136,136,136,307,163,163,163,163,308,173,97,309,310,310,311,312,313,16,122,314,315,316,317,318,319,320,321,321,322,323,203,203,203,324,325,96,120,132,132,132,326,327,328,329,330,330,95,331,164,332,333,334,146,335,336,337,40,40,338,339,340,340,156,156,341,121,342,343,344,345,346,53,347,348,349,350,351,352,353,354,355,356,357,358,358,359,360,361,362,161,161,161,161,363,44,44,189,364,144,130,130,365,366,367,19,368,369,78,370,371,99,149,149,8,372,373,374,375,376,377,377,378,378,378,379,380,381,381,64,382,383,384,385,386,387,129,129,388,389,390,390,111,391,177,177,392,393,394,395,395,396,397,398,398,399,400,401,402,403,77,77,404,404,405,406,406,186,186,407,408,409,410,410,411,412,413,414,415,185,185,73,73,13,416,59,59,417,207,207,418,419,109,109,86,420,421,422,423,424,425,426,426,427,427,428,429,123,123,123,430,430,430,431,49,432,79,433,433,434,435,436,141,17,437,438,439,440,441,153,153,153,153,153,153,442,70,70,70,70,70,70,70,70,443,443,443,444,445,446,447,448,448,449],"colour":["#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7","#C9C7C7"]},"nodes":{"name":["seguirá","mayoría","vox","paso","ley","disposición","ustedes","modo","popular","texto","tribunal","dos","cámara","señorías","prolongados","periodo","hoy","van","ayer","personas","señor","constitución","aquel","eta","leyes","democracia","ambos","ahora","herria","usted","justicia","largo","llevar","vez","valle","amplio","juan","nacional","años","guerra","memoria","intervención","humanidad","podemos-en","partido","golpe","sanciones","cuatro","española","transición","valores","anterior","deprisa","muchas","dictadura","franquismo","últimos","nunca","cuenta","si","ser","quiero","dolores","régimen","principios","defensa","saldar","cada","buenos","dicen","víctimas","sufrido","conmigo","señores","voy","días","ninguna","reparación","poder","tres","países","grupo","señalando","historia","jurídico","pueblo","sociedad","españolas","mayor","republicana","asesinados","xx","derecha","unión","parlamento","libertad","izquierda","hace","enmienda","políticas","voten","general","dio","derechos","consejo","presupuestos","españa","felipe","diputados","socialista","muñoz","puede","euskal","terroristas","aquí","derecho","da","declaración","acabar","crímenes","judicial","ministro","humanitario","todas","asociados","controlar","eligen","vía","propias","proyecto","paz","cuarteles","jueces","bien","movimiento","señora","gobierno","ruedas","exposición","fotografía","hombres","unidas","asesinado","día","pasado","instituciones","mal","tramitación","grupos","político","políticos","semana","perdón","verdad","cadena","sufrieron","miles","sesión","públicos","honrar","frente","parlamentario","ocupa","gracias","lugar","electoral","exaltación","aplausos","política","archivos","pie","seres","españoles","haber","evitar","garantía","ii","puestos","recuperar","trece","comulgar","fiscalía","pedro","san","congreso","señoras","restos","público","cuarenta","partidos","refiero","adolfo","llegamos","buenas","enaltecimiento","banda","mismo","enmiendas","mil","constitucional","europeo","confederal","necesaria","internacional","entrada","martín","favor","siglo","abierta","absoluta","acción","adelante","además","adicional","alguno","alianza","alternativo","alto","amnistía","antifascistas","aplicación","aprobación","aprobar","apuntaba","aquellas","aranda","artículo","asesinato","asesinatos","autonómicas","avanzada","bal","bandos","bildu","buscaba","buscar","caballero","cabo","caídos","carácter","carlos","casado","católico","catorce","cinco","cincuenta","ciudadanos","civil","colectiva","comenzar","cometidos","comisión","comú","comunista","concordia","condena","condenas","consolidación","constitucionales","corrección","corriendo","cosas","creen","cumplirá","damos","dan","debate","debatimos","debe","deber","decirles","delgado","democrática","democrático","democráticos","depende","después","deuda","dice","dictaduras","díganlo","dirigir","duda","económica","ejecutivo","ejemplar","ejemplos","entorno","escaños","español","espíritu","esplendor","esquerra","establece","europa","europea","existía","extrema","falta","familiares","fascista","fiscal","franco","franquista","fundamentales","generales","gobiernan","gonzález","gustau","hacen","hacer","hecho","histórica","homenajes","humanos","ideológicas","igual","ilegal","ilegalidad","imperio","impone","impunidad","independencia","interior","investigar","ir","julio","laietana","lecturas","legítima","lesa","loiola","lugares","madura","magistrados","mató","mejor","mejorar","memorialista","merkel","miembros","ministra","modificación","molino","montesinos","moral","motivos","muestra","mujeres","naciones","negra","niño","niños","nueve","octubre","olvido","oponerse","ordenamiento","orgánica","país","parasitar","parece","parlamentaria","parlamentarios","pasada","pedido","perpetua","persecución","plenaria","podemos","poderes","podrá","presenta","presentada","presentado","presentes","presidencia","presidenta","presidente","pretende","primer","primera","programa","progresista","prohibir","proposición","protección","protestas","psoe","pública","públicas","pues","queridos","quince","reciente","reconciliación","reconoce","reconocidos","reconocimiento","recordar","reencuentro","reforma","renovación","renovar","repetición","república","republicano","revanchismo","rosas","sala","sánchez","sé","sebastián","segundo","senado","señalar","servicio","siete","siguen","sindicatos","solo","suárez","supremo","surgido","tarde","tardes","terrorismo","terrorista","tiempo","toda","totalidad","traemos","treinta","trescientos","tutela","ultraderecha","unas","varios","veces","veinte","veinticinco","vemos","vergüenza","vigor","villa","violaciones","violencia","votaremos","votarían","vulneración"],"group":[1,2,3,4,5,6,7,8,3,9,10,11,7,7,3,12,13,5,14,13,15,16,17,18,19,16,20,7,21,22,23,24,25,13,26,27,28,29,11,30,5,31,30,32,3,30,33,11,16,16,34,35,36,13,30,30,11,37,38,7,39,40,41,42,23,43,44,13,11,5,30,45,46,3,47,11,48,23,39,11,49,3,3,15,50,50,16,39,51,52,18,15,7,7,10,16,7,5,53,5,5,39,54,43,39,55,15,56,3,3,57,39,21,58,13,23,59,60,30,30,39,15,23,30,61,61,61,62,63,5,16,64,61,7,65,13,15,66,67,68,69,32,70,13,5,71,7,72,73,39,74,75,23,23,76,77,13,78,79,80,3,3,81,13,5,82,83,3,84,79,3,85,39,39,23,23,86,3,85,87,66,88,15,89,11,3,85,90,11,74,91,92,93,94,30,18,95,53,11,10,10,32,96,23,16,97,5,15,1,2,3,4,5,6,8,3,9,10,5,7,12,5,5,14,13,15,16,17,18,19,16,15,20,21,22,23,24,25,26,27,28,15,29,11,11,11,5,30,5,31,30,29,32,3,5,30,33,16,34,35,36,13,7,37,13,38,7,13,39,5,40,41,5,42,34,7,11,44,5,45,46,47,48,23,39,16,11,49,3,50,16,51,52,5,15,7,16,7,5,30,42,39,54,30,43,55,7,56,57,7,39,39,5,58,43,5,59,42,60,5,16,30,39,15,39,30,30,62,63,43,30,64,5,16,61,7,15,9,65,13,15,23,5,66,13,23,67,68,69,32,15,70,11,11,13,5,39,50,5,30,71,7,72,73,75,23,76,77,78,32,79,80,15,3,5,15,81,13,15,5,5,13,82,15,83,5,5,3,7,84,5,7,85,11,15,39,5,43,23,40,5,5,39,39,23,86,3,7,87,88,15,7,89,5,11,40,90,11,13,74,91,92,10,42,93,94,30,18,95,5,53,13,11,11,39,7,30,3,13,11,11,96,59,16,97,43,84,5,7,43],"nodesize":[1,1,5,1,36,1,9,1,6,2,4,3,2,8,1,1,9,2,1,5,7,5,1,3,1,7,1,2,2,1,6,1,1,2,1,1,1,2,16,4,12,1,2,2,6,3,1,4,3,4,2,1,1,5,6,3,1,1,1,7,4,3,1,4,2,3,1,2,1,2,18,1,1,5,1,3,1,8,6,2,1,5,1,3,2,1,2,1,1,1,1,2,4,1,1,3,2,2,2,4,1,3,1,7,3,1,4,1,2,4,1,5,1,1,3,5,2,1,1,4,3,2,2,4,1,1,1,1,1,2,2,1,4,3,1,4,8,2,1,1,1,4,1,3,2,1,2,1,1,2,1,1,2,7,1,1,2,1,2,1,1,5,1,6,3,1,1,3,2,1,1,2,2,2,1,2,1,3,1,1,1,1,1,1,3,2,2,1,4,2,1,1,1,1,1,1,1,1,1,1,2,1,1,3,1,1,5,2,1,1,1,1,1,1,1,1,1,1,1,2,1,1,3,1,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,3,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,2,1,1,1,1,1,2,1,2,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,3,1,1,2,1,1,1,1,1,1,1,1,1,3,1,1,1,1,2,1]},"options":{"NodeID":"name","Group":"group","colourScale":"d3.scaleOrdinal(d3.schemeCategory20);","fontSize":22,"fontFamily":"serif","clickTextSize":55,"linkDistance":80,"linkWidth":"function(d) { return Math.sqrt(d.value); }","charge":-20,"opacity":1,"zoom":false,"legend":false,"arrows":false,"nodesize":true,"radiusCalculation":"(Math.sqrt(d.nodesize)^0.57)*4","bounded":true,"opacityNoHover":1,"clickAction":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</section>
<section id="usando-la-ia-en-la-interpretación" class="level2">
<h2 class="anchored" data-anchor-id="usando-la-ia-en-la-interpretación">Usando la IA en la interpretación</h2>
<p>El algoritmo nos ha permitido identificar 34 clusters o comunidades de palabras dentro de la red semántica generada a partir del debate parlamentario sobre la Ley de Memoria Democrática. Cada uno de estos clusters representa un tema o subcampo semántico dentro del corpus analizado. No obstante, la síntesis de tanto material empírico puede ser abrumadora. Interpretar más de 5600 palabras y darles sentido reconstruyendo un discurso no es una tarea fácil. En nuestro ejemplo de “juguete” tenemos un debate único que puede ser leído directamente, sin la necesidad de una metodología tan complicada para su interpretación. No obstante, en volúmenes aún mayores de texto, resultaría imposible llevar a cabo una lectura de todos los debates o textos.</p>
<p>En estos casos, podemos emplear la IA para ayudarnos en la interpretación de los temas identificados. A continuación, mostramos cómo utilizar Google Gemini para generar títulos y descripciones para cada cluster identificado en la red semántica. El prompt que utilizamos es el siguiente:</p>
<p># ROL</p>
<p>Actúa como un analista de datos especialista en análisis de redes semánticas y modelado de tópicos.</p>
<p># TAREA</p>
<p>Le suministraré una string CSV con palabras y clusters que corresponden a temas, así como medidas de centralidad de red.</p>
<p>Analiza los datos y sugiere un título para cada cluster y una breve descripción de cada tema / cluster, así como identifica subtemas y etiquedas sintéticas.</p>
<p>Tu tarea consiste en:</p>
<ol type="1">
<li><p>Describir el tema central de cada cluster.</p></li>
<li><p>Identificar los subtemas y marcos discursivos implicados.</p></li>
<li><p>Proponer etiquetas sintéticas (1 a 3 palabras) para cada cluster.</p></li>
</ol>
<p>No olvides de tener en cuenta las métricas de centralidad de red (degree, betweeness y coreness) para determinar el peso relativo de cada palabra en la red y en el cluster.</p>
<p># SALIDA</p>
<p>Genera una string CSV con las siguientes variables: cluster, tema, título, descripción (de al menos 500 palabras), subtemas, marco_discursivo, tono, palabras_centrales</p>
<p># RESTRICCIONES</p>
<p>No introducir comentarios o cualquier otra marca que no sea la string CSV de salida.</p>
<p># DATOS DE ENTRADA</p>
<p>Abajo puedes encontrar los datos CSV de entrada:</p>
<p>[AQUI LOS DATOS DEL DATA.FRAME]</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ellmer)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>pt <span class="ot">&lt;-</span> <span class="st">"# ROL</span><span class="sc">\n\n</span><span class="st">Actúa como un analista de datos especialista en análisis de redes semánticas y modelado de tópicos.</span><span class="sc">\n\n</span><span class="st"># TAREA</span><span class="sc">\n\n</span><span class="st">Le suministraré una string CSV con palabras y clusters que corresponden a temas, así como medidas de centralidad de red.</span><span class="sc">\n\n</span><span class="st">Analiza los datos y sugiere un título para cada cluster y una breve descripción de cada tema / cluster, así como identifica subtemas y etiquedas sintéticas.</span><span class="sc">\n\n</span><span class="st">Tu tarea consiste en:</span><span class="sc">\n\n</span><span class="st">1. Describir el tema central de cada cluster.</span><span class="sc">\n</span><span class="st">2. Identificar los subtemas y marcos discursivos implicados.</span><span class="sc">\n</span><span class="st">3. Proponer etiquetas sintéticas (1 a 3 palabras) para cada cluster.</span><span class="sc">\n\n</span><span class="st">No olvides de tener en cuenta las métricas de centralidad de red (degree, betweeness y coreness) para determinar el peso relativo de cada palabra en la red y en el cluster.</span><span class="sc">\n\n</span><span class="st"># SALIDA</span><span class="sc">\n\n</span><span class="st">Genera una string de valores separados por punto y coma (;) con las siguientes variables: cluster; tema; título; descripción (de al menos 500 palabras); subtemas; marco_discursivo; tono; palabras_centrales</span><span class="sc">\n\n</span><span class="st"># RESTRICCIONES</span><span class="sc">\n\n</span><span class="st">No introducir comentarios o cualquier otra marca que no sea la string CSV de salida.</span><span class="sc">\n\n</span><span class="st"># DATOS DE ENTRADA</span><span class="sc">\n\n</span><span class="st">Abajo puedes encontrar los datos CSV de entrada:</span><span class="sc">\n\n</span><span class="st">"</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Convierte los datos a formato CSV</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>ss <span class="ot">&lt;-</span> <span class="fu">format_csv</span>(d4)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Completa el prompt con los datos</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>pt <span class="ot">&lt;-</span> <span class="fu">paste0</span>(pt, ss, <span class="at">collapse =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea el objeto de chat con Google Gemini</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>chat <span class="ot">&lt;-</span> <span class="fu">chat_google_gemini</span>(</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">api_args =</span> <span class="fu">list</span>(<span class="at">generationConfig =</span> </span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">list</span>(<span class="at">temperature=</span><span class="fl">0.2</span>, </span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>                           <span class="at">seed=</span><span class="dv">12358</span>)),  </span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> <span class="st">"gemini-flash-lite-latest"</span>, </span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">echo =</span> <span class="st">"none"</span>)</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejecuta el chat</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> chat<span class="sc">$</span><span class="fu">chat</span>(pt)</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Extrae la string CSV de la respuesta</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(out, <span class="at">delim =</span> <span class="st">";"</span>)</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Asigna nombres a las columnas</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(out) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"cluster"</span>,<span class="st">"tema"</span>,<span class="st">"titulo"</span>,</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>                <span class="st">"descripcion"</span>,<span class="st">"subtemas"</span>,<span class="st">"marco_discursivo"</span>,</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>                <span class="st">"tono"</span>,<span class="st">"palabras_centrales"</span>)</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Muestra los resultados</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(out,</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">searchable =</span> <span class="cn">TRUE</span>,</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>         <span class="at">wrap =</span> F,</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>         <span class="at">resizable =</span> T,</span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>         <span class="at">filterable =</span> <span class="cn">TRUE</span>,</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>         <span class="at">defaultPageSize =</span> <span class="dv">10</span>,</span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>         <span class="at">highlight =</span> <span class="cn">TRUE</span></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p><br></p>
<p>Para ilustrar cómo la mezcla de manálisis de redes con la IA puede facilitar la interpretación de grandes volúmenes de texto, a continuación mostramos otro ejemplo en el que analizamos el mismo debate. No obstante, en lugar de procesar los discursos por medio de redes semánticas, le suministramos el texto directo del debate al LLM y pedimos que el modelo nos identifique los temas:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>da <span class="ot">&lt;-</span> spa.sessions[<span class="fu">grep</span>(<span class="st">"Número de expediente 121/000064"</span>, </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                        spa.sessions<span class="sc">$</span>issue.details),]</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>da <span class="ot">&lt;-</span> da[da<span class="sc">$</span>rep.condition<span class="sc">!=</span><span class="st">"Miembro de la mesa"</span>,]</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>da<span class="sc">$</span>rep.name[<span class="fu">is.na</span>(da<span class="sc">$</span>rep.name)] <span class="ot">&lt;-</span> <span class="st">"Ministro"</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>da <span class="ot">&lt;-</span> da[, <span class="fu">c</span>(<span class="st">"session.date"</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>             <span class="st">"session.number"</span>,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>             <span class="st">"speech.order"</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>             <span class="st">"speech.text"</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>             <span class="st">"rep.name"</span>,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>             <span class="st">"rep.party"</span>)]</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>da <span class="ot">&lt;-</span> da[<span class="fu">order</span>(da<span class="sc">$</span>speech.order),]</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ellmer)</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>pt <span class="ot">&lt;-</span> <span class="st">"# ROL</span><span class="sc">\n\n</span><span class="st">Actúa como un analista de datos experto en análisis de discurso.</span><span class="sc">\n\n</span><span class="st"># TAREA</span><span class="sc">\n\n</span><span class="st">Le suministraré una string CSV con textos del debate parlamentario sobre el proyecto de ley de la memoria historica.</span><span class="sc">\n</span><span class="st">Analiza los datos y extrae los principales temas debatidos, dales un título y genera una descripción de al menos 500 palabras.</span><span class="sc">\n\n</span><span class="st"># SALIDA</span><span class="sc">\n\n</span><span class="st">Genera una string CSV de valores separados por punto y coma (;) con las siguientes variables: tema; título; descripción.</span><span class="sc">\n\n</span><span class="st"># RESTRICCIONES</span><span class="sc">\n\n</span><span class="st">No introducir comentarios o cualquier otra marca que no sea la string CSV de salida.</span><span class="sc">\n\n</span><span class="st"># DATOS DE ENTRADA</span><span class="sc">\n\n</span><span class="st">Abajo puedes encontrar los datos CSV de entrada:</span><span class="sc">\n\n</span><span class="st">"</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Convierte los datos a formato CSV</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>ss <span class="ot">&lt;-</span> <span class="fu">format_csv</span>(da)</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Completa el prompt con los datos</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>pt <span class="ot">&lt;-</span> <span class="fu">paste0</span>(pt, ss, <span class="at">collapse =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea el objeto de chat con Google Gemini</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>chat <span class="ot">&lt;-</span> <span class="fu">chat_google_gemini</span>(</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">api_args =</span> <span class="fu">list</span>(<span class="at">generationConfig =</span> </span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">list</span>(<span class="at">temperature=</span><span class="fl">0.2</span>, </span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>                           <span class="at">seed=</span><span class="dv">12358</span>)),  </span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> <span class="st">"gemini-flash-latest"</span>, </span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">echo =</span> <span class="st">"none"</span>)</span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejecuta el chat</span></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> chat<span class="sc">$</span><span class="fu">chat</span>(pt)</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Extrae la string CSV de la respuesta</span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Extrae la string CSV de la respuesta</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>ot <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(out, <span class="at">delim =</span> <span class="st">";"</span>)</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Asigna nombres a las columnas</span></span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ot) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"tema"</span>,<span class="st">"titulo"</span>,<span class="st">"descripcion"</span>)</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Muestra los resultados</span></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(ot,</span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>         <span class="at">searchable =</span> <span class="cn">TRUE</span>,</span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>         <span class="at">wrap =</span> F,</span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>         <span class="at">resizable =</span> T,</span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>         <span class="at">filterable =</span> <span class="cn">TRUE</span>,</span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>         <span class="at">defaultPageSize =</span> <span class="dv">10</span>,</span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>         <span class="at">highlight =</span> <span class="cn">TRUE</span></span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p><br></p>
<p>Como podemos observar, el resultado es mucho menos detallado que el obtenido mediante el análisis de redes semánticas combinado con la IA.</p>
</section>
<section id="references" class="level2">




</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-wasserman1994" class="csl-entry" role="listitem">
Wasserman, Stanley, and Katherine Faust. 1994. <em>Social Network Analysis: Methods and Applications</em>. Cambridge: Cambridge University Press.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2025, Rodrigo Rodrigues-Silveira</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>